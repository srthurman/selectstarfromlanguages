<!DOCTYPE html>
<html lang="en">
<head>

        <title>Transitioning my Manila Transit app to Google App Engine, Part 1</title>
        <meta charset="utf-8" />
        <link href="http://www.selectstarfromlanguages.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Select * from Languages Full Atom Feed" />
        <link href="http://www.selectstarfromlanguages.com/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate" title="Select * from Languages Categories Atom Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="http://www.selectstarfromlanguages.com/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="http://www.selectstarfromlanguages.com/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="http://www.selectstarfromlanguages.com/theme/pygment.css" />

        <script src="http://www.selectstarfromlanguages.com/theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="http://www.selectstarfromlanguages.com/">Select * from Languages <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="http://www.selectstarfromlanguages.com/">Home</a></li>

                <li><a href="http://www.selectstarfromlanguages.com/pages/about.html">About</a></li>

              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="http://www.selectstarfromlanguages.com/drafts/manila_transit_on_GAE_part1.html" rel="bookmark"
                   title="Permalink to Transitioning my Manila Transit app to Google App Engine, Part 1">Transitioning my Manila Transit app to Google App Engine, Part 1</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-03-17T00:00:00+01:00">
                Tue 17 March 2015
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="http://www.selectstarfromlanguages.com/author/sara-thurman.html"> Sara Thurman</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>Part 1: Overview of project. Getting GTFS feeds, putting them in PostGIS and creating routes. Getting GEOJSON results.
Part 2: Installing GAE. Setting up the API for GEOJSON results.
Part 3: Creating the web app on GAE consuming the API. Integrating with GitHub for route editing updates.</p>
<p>THIS IS PART 1
&lt;<Put in description of how this project came about>&gt;
The first thing we want to do is download the GTFS data. Do this by going <here>. If you're not familiar with GTFS, go to //this page// to learn all the details. What we need to do is 1. figure out what the routes are and 2. create those routes in the form of GEOJSON.</p>
<p>For 1., we need to look at the following </p>
<p>For 2., we're going to use PostgreSQL and PostGIS. If you're unfamiliar with relational databases, well that's a large topic unto itself. The PostgreSQL documentation has a good overview. I also like Lynda.com's "Intro to Relational Databases" course. To further complicate things, PostgreSQL is technically an object relational database (ORD). We won't get into the details of what that means.
As for postgres, I'm on xubuntu, but you can use it on windows or mac as well (double check this). See <a href="https://help.ubuntu.com/community/PostgreSQL">this documentation</a> for full details.</p>
<p>And yes, ESRI has a tool that will do this with ArcGIS. So if you have access to that you can skip the rest of the post. You will just need to export those as GEOJSON yourself. I'm doing this with free tools.</p>
<p>To install I ran
'''
sudo apt-get install postgresql postgresql-contrib pgadmin3
'''
I'm installing postgreSQL along with pgadmin3, a GUI for interacting with the databases, and postgis, the spatial extension for PostgreSQL. According to the official Ubuntu documentation you just need to install 'postgis', but I found that didn't work when trying to create the postgis extension on my database, as described below. Instead I installed:
'sudo apt-get install postgresql-9.3-postgis-2.1 postgresql-9.3-postgis-2.1-scripts'</p>
<p>I made sure before doing so that I was in fact running with postgresql 9.3. If you do 'apt-cache search postgres' you can see all the packages related to postgresql.</p>
<p>By default we now have a superuser named "postgres" and a database in that user account also named "postgres". This user doesn't have a password, so we'll need to create one in order to connect to the server - necessary if we're going to use the pgadmin3 tool.
In your terminal run:
'''
sudo -u postgres psql postgres
'''</p>
<p>This command is changing to the user "postgres" on our system, running the psql command with that user (which starts the PostgreSQL interactive terminal) to open the "postgres" database. You should now see 'postgres=#'.</p>
<p>To create a password, type '\password postgres', and then whatever password you want. Nothing will be displayed as you type.</p>
<p>Before we go, let's also add the "adminpack" extension, which PgAdmin requires for full functionality (so say the docs. I haven't tried it without running this so I'm not sure what the full impact would be of not installing it). Simply run 'CREATE EXTENSION adminpack;' Voila.</p>
<p>When finished hit Ctrl+D to exit the postgresql terminal.</p>
<p>Now to create the database! Type 'sudo -u postgres createdb manila_gtfs'. The first part of this command is the same as before - changing the user to postgres. This time we are running the 'createdb' command to create a new database, which I have named "manila_gtfs". You can name yours whatever you want. NOTE: This can also be done through the PgAdmin tool.</p>
<p>We aren't going to deal with anything related to users or external connections. We're just using PostgreSQL to set up the data as we need it and return it as GEOJSON.</p>
<p>FOR PART 3:
NVMND, this won't work: Create an 'alias' for running gae devserver.py file. See http://lifehacker.com/270799/create-terminal-shortcuts on creating an alias.</p>
<p>Resources: https://help.ubuntu.com/community/PostgreSQL</p>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

<h4>Pages</h4>

 <ul>
      <li><a href="http://www.selectstarfromlanguages.com/pages/about.html">About</a></li>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="http://www.selectstarfromlanguages.com/category/science.html">Science!</a></li>
</ul>


<h4>Tags</h4>
	<ul>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/language-learning.html">language learning</a></li>
</ul>


<nav class="widget">
  <h4>Social</h4>
  <ul>
    <li><a href="https://github.com/srthurman">Github</a></li>
    <li><a href="https://twitter.com/thurmSR">Twitter</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">

                <li><div class="btn primary"><a href="https://github.com/srthurman" target="_blank">Github</a></div></li>

                <li><div class="btn twitter"><a href="https://twitter.com/thurmSR" target="_blank">Twitter</a></div></li>



              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="http://www.selectstarfromlanguages.com/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="http://www.selectstarfromlanguages.com/theme/js/libs/gumby.min.js"></script>
  <script src="http://www.selectstarfromlanguages.com/theme/js/plugins.js"></script>
</body>
</html>