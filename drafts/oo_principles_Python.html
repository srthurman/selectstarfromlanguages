<!DOCTYPE html>
<html lang="en">
<head>

        <title>Object Oriented Principles Part 2: Javascript</title>
        <meta charset="utf-8" />
        <link href="http://www.selectstarfromlanguages.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Select * from Languages Full Atom Feed" />
        <link href="http://www.selectstarfromlanguages.com/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate" title="Select * from Languages Categories Atom Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="http://www.selectstarfromlanguages.com/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="http://www.selectstarfromlanguages.com/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="http://www.selectstarfromlanguages.com/theme/pygment.css" />

        <script src="http://www.selectstarfromlanguages.com/theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="http://www.selectstarfromlanguages.com/">Select * from Languages <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="http://www.selectstarfromlanguages.com/">Home</a></li>

                <li><a href="http://www.selectstarfromlanguages.com/pages/about.html">About</a></li>
                <li><a href="http://www.selectstarfromlanguages.com/pages/resources.html">Resources</a></li>

              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="http://www.selectstarfromlanguages.com/drafts/oo_principles_Python.html" rel="bookmark"
                   title="Permalink to Object Oriented Principles Part 2: Javascript">Object Oriented Principles Part 2: Javascript</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-04-12T00:00:00+02:00">
                Sun 12 April 2015
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="http://www.selectstarfromlanguages.com/author/sara-thurman.html"> Sara Thurman</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>In this post let's look at Object Oriented concepts as they apply, and as I understand them, in Javascript. As I mentioned in part 1, concerning OO and Python, this exploration came about as I was learning Java for a work assignment. I've definitely learned more about all three languages as a result.</p>
<p>I'm not going to go into as much detail on what each concept means in this post. If you're unsure about something, like what the heck an interface is, I suggest going back to part 1.</p>
<p>Note, this is not covering ECMAScript 6 (a.k.a. the latest and greatest for Javascript). Once I look at that I'll do an update post with any differences of note.</p>
<h3>Object</h3>
<p>Objects in Javascript are different than in Python or Java. They look like JSON (or dictionaries in Python). They're simply a collection of key-value pairs, where the value could be a primitive value (integer, string, etc), a function, or another object.</p>
<p>The simplest way to create an object is with the <code>{}</code> syntax.</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">emptyObject</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">nonEmptyObject</span> <span class="o">=</span> <span class="p">{</span><span class="nx">favColor</span><span class="o">:</span> <span class="s2">&quot;Blue&quot;</span><span class="p">};</span>
</pre></div>


<p>It's easy to add attributes and methods to an existing object. Using the example above, if we wanted to add a method to our <code>nonEmptyObject</code>, we could just write <code>nonEmptyObject.sayHi = function() {alert('hi');};</code> Now when we run that function by calling <code>nonEmptyObject.sayHi();</code>, an alert box will pop up saying "hi" to us.</p>
<p>Fun fact, <code>null</code> is actually an "object". More like a placeholder for an object. It can be useful to initialize a variable that will (or might) hold an object with <code>null</code> rather than <code>{}</code>. That way you can do a truthiness check to see if the object exists, rather than having to check the length or some other property.</p>
<h3>Class</h3>
<p>So, the thing with Javascript is it doesn't have classes. Yup, Javascript don't need no stinkin' classes. Instead, you can create objects in many different ways. That can be good as it's flexible, but also very confusing.</p>
<p>Instead of classes, you create functions which serve as the blueprints for making objects. These functions, called "constructors", are your defacto classes. It may seem odd that you would use a function to create objects, but in Javascript, functions are (takes off the Scooby Doo villain mask)...objects! Functions are objects, and you can use them to create other objects. Confused yet? Don't worry, the implementation I'll discuss is actually pretty straightforward (well, for Javascript).</p>
<p>Rather than talk about all the possible ways (patterns) for creating objects, and there are quite a few, I'll show the "Combination Constructor/Prototype Pattern". That begs the question, what's the "Constructor Pattern" and the "Prototype Pattern"?</p>
<p>Let's start with the prototype. Every object has a <code>prototype</code> object. And that <code>prototype</code> object has a <code>prototype</code> object. And so on and so forth down the chain, until you reach a <code>null</code> object (see, aren't you glad I told you that about <code>null</code> before). That's called the "prototype chain".</p>
<p>The <code>prototype</code> contains the attributes and methods that any objects (instances) created from a constructor will have. All instances share a reference to each property and method. Let's see an example:</p>
<div class="highlight"><pre><span class="c1">// Here we are creating a new constructor, Dog</span>
<span class="kd">function</span> <span class="nx">Dog</span><span class="p">()</span> <span class="p">{}</span>

<span class="c1">// Now we add the attributes and methods to the Dog prototype</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Mr. Pickles&quot;</span><span class="p">;</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">favoriteFoods</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Peanut Butter&quot;</span><span class="p">,</span><span class="s2">&quot;Bones&quot;</span><span class="p">];</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">talk</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">);};</span>

<span class="c1">// Create a new Dog object</span>
<span class="kd">var</span> <span class="nx">myDog</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">();</span>

<span class="c1">// Change your new Dog&#39;s name</span>
<span class="nx">myDog</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Reginald&quot;</span><span class="p">;</span>

<span class="c1">// print your Dog&#39;s age</span>
<span class="nx">myDog</span><span class="p">.</span><span class="nx">age</span><span class="p">;</span> <span class="c1">// 3</span>
</pre></div>


<p>Here you created a <code>Dog</code> constructor function, added attributes and methods to it's <code>prototype</code>, created a new <code>myDog</code> object, and changed that object's <code>name</code> attribute. Because <code>name</code>, <code>age</code> and <code>talk</code> were on the <code>prototype</code> of <code>Dog</code>, your <code>myDog</code> variable already had those included.</p>
<p>Because you initially create an empty function, and then add to it's prototype, this pattern isn't so useful when you want to pass in variables when creating an object. More importantly, you can't alter any of the properties on an instance of <code>Dog</code> without affecting all instances.</p>
<div class="highlight"><pre><span class="nx">yourDog</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">();</span>

<span class="c1">// add to yourDog&#39;s list of favorite foods</span>
<span class="nx">yourDog</span><span class="p">.</span><span class="nx">favoriteFoods</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;Meatballs&quot;</span><span class="p">);</span>

<span class="c1">// uh-oh, we changes myDog&#39;s favorite foods too!</span>
<span class="nx">myDog</span><span class="p">.</span><span class="nx">favoriteFoods</span><span class="p">;</span> <span class="c1">//[&quot;Peanut Butter&quot;, &quot;Bones&quot;, &quot;Meatballs&quot;]</span>
</pre></div>


<p>Here we altered the <code>favoriteFoods</code> array of the <code>prototype</code>, thus affecting all instances that use the <code>Dog prototype</code>. Note that this is different than when we set <code>myDog.name</code> above. In that case, we're not actually changing the <code>name</code> property on the <code>Dog prototype</code>. Instead, we're actually creating a new property <code>name</code> on the <code>myDog</code> instance which overrides access to the <code>name</code> property on the <code>prototype</code>.</p>
<p>Let's recreate <code>Dog</code> using the Constructor Pattern. For ease of the example we're ignoring <code>favoriteFoods</code>.</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">Dog</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">talk</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>That's nicer since we can set the attributes that will change with each instance of <code>Dog</code>, here <code>name</code> and <code>age</code>, when we create the object. This pattern has a different problem (well, more of an inefficiency). We create a new copy of all properties AND methods for each instance. In other words, each <code>Dog</code> has it's own <code>name</code> and <code>age</code>, as well as it's own version of the <code>talk</code> function. Since we want all <code>Dog</code>s to have the same behavior with <code>talk</code>, there's no reason to create an individual copy for each instance. Doing so uses extra memory without good reason to.</p>
<p>Here's where the Combination Constructor/Prototype pattern comes in handy. We use the Constructor Pattern for properties that should differ with each instance, and the Prototype Pattern for methods, which are shared.</p>
<div class="highlight"><pre><span class="c1">//Constructor Pattern</span>
<span class="kd">function</span> <span class="nx">Dog</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Prototype Pattern</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="nx">Dog</span><span class="p">,</span>
    <span class="nx">talk</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Woof&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Heyyyy, that doesn't look the same as the Prototype Pattern we used before. And what's with the <code>constructor</code> property? This syntax for overwriting the <code>prototype</code> is just shorthand for the <code>Dog.prototype. ...</code> we wrote before. And that <code>constructor</code> property tells which constructor function was used to create an object. </p>
<h3>Inheritance</h3>
<p>Did you have fun with Classes? I hope so, because Inheritance in Javascript is even more fun!</p>
<p>Because Javascript doesn't have proper classes, there isn't one way to implement inheritance. That could be good since you have options, and thus flexibility, but it can also feel a bit overwhelming. I'm not going to attempt diving into all the different possibilities. I'll focus on the technique touted as the best according to JSissexy and professional web dev book: Parasitic Combination Inheritance.</p>
<p>Don't worry about that name, but now you know what to search for if you want more information.
The thing I was getting confused about was the .call(this,...) line. When you use .call, you're actually modifying the object you pass in. So when you call Question.call(this,...) you're modifying the <code>this</code> of your subclass, aka the instance you create.</p>
<p><strong>Resources</strong>:</p>
<ul>
<li><a href="http://javascriptissexy.com/oop-in-javascript-what-you-need-to-know/">OOP in Javascript: What you NEED to Know</a></li>
<li><a href="http://shop.oreilly.com/product/9781118026694.do">Professional Javascript for Web Developers, 3rd Edition</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">Inheritance and the Prototype Chain</a></li>
</ul>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

<h4>Pages</h4>

 <ul>
      <li><a href="http://www.selectstarfromlanguages.com/pages/about.html">About</a></li>
      <li><a href="http://www.selectstarfromlanguages.com/pages/resources.html">Resources</a></li>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="http://www.selectstarfromlanguages.com/category/misc.html">misc</a></li>
		<li><a href="http://www.selectstarfromlanguages.com/category/science.html">Science!</a></li>
		<li><a href="http://www.selectstarfromlanguages.com/category/weekly-roundup.html">Weekly Roundup</a></li>
</ul>


<h4>Tags</h4>
	<ul>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/dataviz.html">dataviz</a></li>
	    <li class="tag-2"><a href="http://www.selectstarfromlanguages.com/tag/french.html">french</a></li>
	    <li class="tag-1"><a href="http://www.selectstarfromlanguages.com/tag/human-language.html">human language</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/data.html">data</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/portland.html">portland</a></li>
	    <li class="tag-2"><a href="http://www.selectstarfromlanguages.com/tag/python.html">Python</a></li>
	    <li class="tag-2"><a href="http://www.selectstarfromlanguages.com/tag/java.html">java</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/demographics.html">demographics</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/tdd.html">tdd</a></li>
	    <li class="tag-0"><a href="http://www.selectstarfromlanguages.com/tag/computer-language.html">computer language</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/object-oriented.html">object oriented</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/testing.html">testing</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/seattle.html">seattle</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/anki.html">anki</a></li>
	    <li class="tag-4"><a href="http://www.selectstarfromlanguages.com/tag/networking.html">networking</a></li>
</ul>


<nav class="widget">
  <h4>Social</h4>
  <ul>
    <li><a href="https://github.com/srthurman">Github</a></li>
    <li><a href="https://twitter.com/thurmSR">Twitter</a></li>
    <li><a href="https://www.linkedin.com/in/srthurman">Linkedin</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">

                <li><div class="btn primary"><a href="https://github.com/srthurman" target="_blank">Github</a></div></li>

                <li><div class="btn twitter"><a href="https://twitter.com/thurmSR" target="_blank">Twitter</a></div></li>



              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="http://www.selectstarfromlanguages.com/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="http://www.selectstarfromlanguages.com/theme/js/libs/gumby.min.js"></script>
  <script src="http://www.selectstarfromlanguages.com/theme/js/plugins.js"></script>
</body>
</html>